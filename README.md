# **GPortal â€“ Generic Portal**

## **Giá»›i thiá»‡u**

KhÃ´ng cÃ³ ná»n táº£ng nÃ o cÃ³ thá»ƒ giÃºp giáº£i má»i bÃ i toÃ¡n, nhÆ°ng chÃºng ta cÃ³ thá»ƒ **loáº¡i bá» cÃ¡c bÆ°á»›c láº·p Ä‘i láº·p láº¡i, Ä‘Æ°a ngÆ°á»i dÃ¹ng vÃ o trung tÃ¢m phÃ¡t triá»ƒn**, giÃºp viá»‡c xÃ¢y dá»±ng pháº§n má»m quáº£n lÃ½ chá»‰ cÃ²n **vÃ i ngÃ y**, tháº­m chÃ­ **vÃ i giá»**.

**GPortal** Ä‘Æ°á»£c sinh ra vá»›i má»¥c tiÃªu giÃºp doanh nghiá»‡p xÃ¢y dá»±ng pháº§n má»m quáº£n lÃ½ **nhanh chÃ³ng â€“ gá»n nháº¹ â€“ dá»… tÃ­ch há»£p AI**-**vÃ  háº§u nhÆ° khÃ´ng cáº§n viáº¿t code.**

GPortal cÅ©ng **tÃ­ch há»£p toÃ n diá»‡n vá»›i ná»n táº£ng tá»± Ä‘á»™ng hoÃ¡ N8N**, giÃºp viá»‡c xÃ¢y dá»±ng workflow trá»Ÿ nÃªn Ä‘Æ¡n giáº£n vÃ  máº¡nh máº½.

### **NhÆ° váº¡y, chÃºng tÃ´i xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ mang láº¡i:**

- XoÃ¡ bá» chi phÃ­ xÃ¢y dá»±ng MVP / Prototype.
- XÃ¢y dá»±ng - thay Ä‘á»•i nhanh chÃ³ng.
- Gá»n nháº¹, dá»… dÃ ng má»Ÿ rá»™ng, tÃ­ch há»£p AI.
- Giáº£m thiá»‡u sá»­ phá»¥ thuá»™c vÃ o Ä‘á»™i ngÅ© phÃ¡t triá»ƒn.

---

## **No/Low-code â€“ ChÃºng tÃ´i lÃ m Ä‘iá»u Ä‘Ã³ nhÆ° tháº¿ nÃ o?**

Háº§u háº¿t pháº§n má»m quáº£n lÃ½ Ä‘á»u xoay quanh viá»‡c táº¡o â€“ sá»­a â€“ xoÃ¡ â€“ tÃ¬m kiáº¿m cÃ¡c **Ä‘á»‘i tÆ°á»£ng quáº£n lÃ½ (entity)** khÃ¡c nhau.

VÃ­ dá»¥:

- Pháº§n má»m bÃ¡n hÃ ng: hÃ ng hoÃ¡, Ä‘Æ¡n hÃ ng, khÃ¡ch hÃ ng...
- Pháº§n má»m trÆ°á»ng há»c: sinh viÃªn, lá»›p há»c, thá»i khoÃ¡ biá»ƒu...

CÃ¡c Ä‘á»‘i tÆ°á»£ng quáº£n lÃ½ nÃ y Ä‘á»u cÃ³ cÃ¡c logic khÃ¡c nhau.

VÃ­ dá»¥:

- Khi nháº­p hoÃ¡ Ä‘Æ¡n, báº¡n chá»‰ cáº§n nháº­p loáº¡i máº·t hÃ ng, Ä‘Æ¡n giÃ¡ â†’ pháº§n má»m tá»± tÃ­nh tá»•ng giÃ¡.
- Sau khi hÃ ng Ä‘Æ°á»£c bÃ¡o xuáº¥t kho â†’ pháº§n má»m pháº£i tá»± thÃ´ng bÃ¡o Ä‘áº¿n cÃ¡c Ä‘Æ¡n vá»‹ liÃªn quan.

Váº­y, náº¿u chÃºng ta **cÃ³ giao diá»‡n Ä‘áº§y Ä‘á»§ Ä‘á»ƒ tuá»³ chá»‰nh** (config) cÃ¡c **Ä‘á»‘i tÆ°á»£ng quáº£n lÃ½ (entity)**, **ta hoÃ n toÃ n cÃ³ thá»ƒ loáº¡i bá» cÃ¡c bÆ°á»›c láº­p trÃ¬nh, xÃ¢y dá»±ng database, API...**

---

# **Tá»« Ä‘iá»ƒn**

ChÃºng tÃ´i khÃ´ng táº¡o ra báº¥t ká»³ kiáº¿n trÃºc hay design pattern má»›i.
Äiá»u chÃºng tÃ´i lÃ m lÃ  giÃºp báº¡n Ã¡p dá»¥ng nhá»¯ng cáº¥u trÃºc quen thuá»™c má»™t cÃ¡ch dá»… dÃ ng hÆ¡n, trá»±c quan hÆ¡n.

| Thuáº­t ngá»¯                           | Giáº£i thÃ­ch                                                                                                      |
| ----------------------------------- | --------------------------------------------------------------------------------------------------------------- |
| **Entity (Äá»‘i tÆ°á»£ng quáº£n lÃ½)**      | LÃ  loáº¡i dá»¯ liá»‡u báº¡n muá»‘n quáº£n lÃ½. VÃ­ dá»¥: sáº£n pháº©m, khÃ¡ch hÃ ng, nhÃ¢n viÃªn. TÆ°Æ¡ng tá»± nhÆ° má»™t báº£ng trong database. |
| **Attribute / Field (Thuá»™c tÃ­nh)**  | ThÃ´ng tin cá»¥ thá»ƒ cá»§a entity. VÃ­ dá»¥: name, email, birthDay. â€œFieldâ€ vÃ  â€œAttributeâ€ cÃ³ nghÄ©a giá»‘ng nhau.          |
| **Field Type (Kiá»ƒu dá»¯ liá»‡u)**       | XÃ¡c Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u cá»§a thuá»™c tÃ­nh: string, number, date, enum, reference, embedded document, v.v.            |
| **Validation (Kiá»ƒm tra há»£p lá»‡)**    | HÃ m kiá»ƒm tra dá»¯ liá»‡u trÆ°á»›c khi lÆ°u. Tráº£ vá» true/false. VÃ­ dá»¥: email pháº£i cÃ³ â€œ@â€, sá»‘ lÆ°á»£ng > 0.                  |
| **Computation (TÃ­nh toÃ¡n tá»± Ä‘á»™ng)** | HÃ m tá»± Ä‘á»™ng sinh ra giÃ¡ trá»‹ dá»±a trÃªn cÃ¡c thuá»™c tÃ­nh khÃ¡c. VÃ­ dá»¥: táº¡o mÃ£ nhÃ¢n viÃªn tá»« name + birthDay.           |
| **Workflow (Luá»“ng tá»± Ä‘á»™ng hoÃ¡)**    | CÃ¡c hÃ nh Ä‘á»™ng tá»± Ä‘á»™ng xáº£y ra khi cÃ³ sá»± kiá»‡n. VÃ­ dá»¥: kiá»ƒm tra tá»“n kho, gá»­i email, táº¡o cÃ´ng viá»‡c tiáº¿p theo.       |
| **Required (Báº¯t buá»™c nháº­p)**        | Thuá»™c tÃ­nh khÃ´ng Ä‘Æ°á»£c phÃ©p bá» trá»‘ng khi nháº­p dá»¯ liá»‡u.                                                           |
| **Function (HÃ m)**                  | Äoáº¡n mÃ£ JavaScript Ä‘Æ°á»£c sá»­ dá»¥ng trong Validation hoáº·c Computation Ä‘á»ƒ xá»­ lÃ½ logic tÃ¹y chá»‰nh.                     |

---

# **Entity Configuration â€“ Táº¡o, Ä‘á»‘i tÆ°á»£ng quáº£n lÃ½ khÃ´ng cáº§n sá»­a database hay API**

Entity Configuration lÃ  nÆ¡i dÃ¹ng Ä‘á»ƒ tuá»³ chá»‰nh cÃ¡c Ä‘á»‘i tÆ°á»£ng, bao gá»“m:

- CÃ¡c thuá»™c tÃ­nh (field)
- CÃ¡c logic Ä‘i kÃ¨m cho cÃ¡c thuá»™c tÃ­nh nÃ y (computation & validation)
- Äá»‘i tÆ°á»£ng cÃ³ Ä‘Æ°á»£c lÆ°u dÆ°á»›i dáº¡ng vector embedding Ä‘á»ƒ tÃ¬m kiáº¿m báº±ng AI hay khÃ´ng

ğŸ“· _Entity config overview:_

![Entity config overview](assets/entityConfigOverview.png)

---

## **VÃ­ dá»¥: Táº¡o entity teamMember**

Giáº£ sá»­ báº¡n muá»‘n quáº£n lÃ½ thÃ´ng tin thÃ nh viÃªn nhÃ³m (teamMember) vá»›i 3 thuá»™c tÃ­nh:

- name â€“ string
- email â€“ string
- birthDay â€“ date

Báº¡n chá»‰ cáº§n má»Ÿ trang **Config Entity** vÃ  khai bÃ¡o cÃ¡c field.

ğŸ“¹ _Video táº¡o teamMember:_

![Create teamMember entity](assets/createTeamMemberEntity.gif)

---

## **Sá»­ dá»¥ng & quáº£n lÃ½ dá»¯ liá»‡u (Manage Entity)**

Sau khi cáº¥u hÃ¬nh, báº¡n cÃ³ thá»ƒ:

- Hiá»ƒn thá»‹ hoáº·c áº©n entity
- Thá»±c hiá»‡n Ä‘áº§y Ä‘á»§ thao tÃ¡c nháº­p liá»‡u: thÃªm â€“ xoÃ¡ â€“ chá»‰nh sá»­a â€“ tÃ¬m kiáº¿m

ğŸ“¹ _Video nháº­p liá»‡u:_

![Input value for entity](assets/inputValueForEntity.gif)

---

# **Cáº¥u hÃ¬nh thuá»™c tÃ­nh (Field Configuration)**

Má»—i Ä‘á»‘i tÆ°á»£ng (entity) Ä‘á»u chá»©a má»™t táº­p thuá»™c tÃ­nh (field), vÃ  vá»›i má»—i thuá»™c tÃ­nh, báº¡n cÃ³ thá»ƒ thiáº¿t láº­p:

| Thuá»™c tÃ­nh         | Giáº£i thÃ­ch                                                                          |
| ------------------ | ----------------------------------------------------------------------------------- |
| **Field name**     | TÃªn thuá»™c tÃ­nh, Ä‘Æ°á»£c sá»­ dá»¥ng trong há»‡ thá»‘ng vÃ  API.                                 |
| **View name**      | TÃªn hiá»ƒn thá»‹ cho ngÆ°á»i dÃ¹ng trong giao diá»‡n.                                        |
| **Description**    | MÃ´ táº£ Ã½ nghÄ©a hoáº·c má»¥c Ä‘Ã­ch cá»§a thuá»™c tÃ­nh.                                         |
| **Field type**     | Kiá»ƒu dá»¯ liá»‡u cá»§a thuá»™c tÃ­nh (string, number, date, enum, reference, v.v.).          |
| **Required**       | XÃ¡c Ä‘á»‹nh thuá»™c tÃ­nh cÃ³ báº¯t buá»™c nháº­p hay khÃ´ng.                                     |
| **Use Validation** | Cho biáº¿t thuá»™c tÃ­nh cÃ³ sá»­ dá»¥ng hÃ m kiá»ƒm tra há»£p lá»‡ (validation function) hay khÃ´ng. |
| **Read Only**      | Thuá»™c tÃ­nh chá»‰ Ä‘Æ°á»£c xem, khÃ´ng thá»ƒ chá»‰nh sá»­a.                                       |
| **System Field**   | Thuá»™c tÃ­nh Ä‘áº·c biá»‡t cá»§a há»‡ thá»‘ng, khÃ´ng thá»ƒ xoÃ¡ vÃ  Ä‘Ã´i khi khÃ´ng thá»ƒ sá»­a.           |

ğŸ“· _áº¢nh giao diá»‡n:_

![Attribute config](assets/attributeConfig.png)

ğŸ“¹ **Validation** â€“ HÃ m Ä‘Æ°á»£c thá»±c thi Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ trá»‹ cÃ³ há»£p lá»‡ hay khÃ´ng:

![Custom validation](assets/customValidation.png)

ğŸ“¹ **Computation** â€“ HÃ m Ä‘Æ°á»£c thá»±c thi Ä‘á»ƒ tÃ­nh toÃ¡n ra giÃ¡ trá»‹:

![Custom computation](assets/customComputation.png)

---

# **Kiá»ƒu dá»¯ liá»‡u cho thuá»™c tÃ­nh (Field Types)**

Má»—i thuá»™c tÃ­nh Ä‘á»u cÃ³ thá»ƒ tuá»³ chá»‰nh kiá»ƒu dá»¯ liá»‡u, Ä‘áº£m báº£o tÃ­nh cháº·t cháº½ vÃ  tá»‘i Æ°u trong quáº£n lÃ½ dá»¯ liá»‡u.

## **Kiá»ƒu dá»¯ liá»‡u cÆ¡ báº£n**

| Kiá»ƒu     | MÃ´ táº£                 | VÃ­ dá»¥                                             |
| -------- | --------------------- | ------------------------------------------------- |
| string   | Chuá»—i kÃ½ tá»±           | `"Nguyá»…n VÄƒn A"`, `"Active"`                      |
| number   | Sá»‘                    | `25`, `1200000`                                   |
| date     | NgÃ y/giá» ISO 8601     | `"2025-11-23T10:30:00Z"`                          |
| richText | chuá»—i kÃ½ tá»± dÃ i, html | dÃ¹ng cho cÃ¡c Ä‘oáº¡n vÄƒn báº£n dÃ i, markdown hoáº·c html |

ğŸ“¹ Field types supported:

![Field types supported](assets/fieldTypeSupported.png)

---

## **Kiá»ƒu dá»¯ liá»‡u nÃ¢ng cao**

TÆ°Æ¡ng tá»± láº­p trÃ¬nh, GPortal há»— trá»£ cÃ¡c kiá»ƒu dá»¯ liá»‡u sau:

| Kiá»ƒu                         | MÃ´ táº£                     | VÃ­ dá»¥                                                                     |
| ---------------------------- | ------------------------- | ------------------------------------------------------------------------- |
| **enum**                     | Danh sÃ¡ch giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh | `"status": "Active"` vá»›i táº­p giÃ¡ trá»‹ `["Active", "Inactive", "Pending"]`  |
| **reference**                | LiÃªn káº¿t Ä‘áº¿n entity khÃ¡c  | `"customerId": "CUS-00123"` trá» Ä‘áº¿n entity **Customer**                   |
| **array reference**          | LiÃªn káº¿t nhiá»u entity     | `"tagIds": ["TAG-1", "TAG-2"]`                                            |
| **embedded document**        | Object nhiá»u thuá»™c tÃ­nh   | `"address": { "street": "12 LÃª Lá»£i", "city": "Huáº¿" }`                     |
| **array embedded documents** | Danh sÃ¡ch object          | `"items": [ { "name": "SP A", "qty": 2 }, { "name": "SP B", "qty": 1 } ]` |

---

# **VÃ­ dá»¥ kiá»ƒu dá»¯ liá»‡u nÃ¢ng cao**

## **Enum**

DÃ¹ng Ä‘á»ƒ chá»©a má»™t táº­p háº±ng sá»‘.
Enum gá»“m: key â€“ name â€“ color.

Giáº£ sá»­ cáº§n táº¡o thuá»™c tÃ­nh **role** Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vai trÃ² cá»§a thÃ nh viÃªn: junior, senior, leader.

CÃ¡ch thiáº¿t láº­p:

1. Field type: chá»n **enum**
2. Nháº­p key cho enum
3. Nháº­p name vÃ  color cho tá»«ng giÃ¡ trá»‹

ğŸ“¹ Demo:

![Demo enum field](assets/demoEnumField.gif)

---

## **Reference**

DÃ¹ng Ä‘á»ƒ chá»©a key trá» Ä‘áº¿n má»™t entity khÃ¡c.

VÃ­ dá»¥: cáº§n thÃªm thuá»™c tÃ­nh **team** Ä‘á»ƒ biáº¿t thÃ nh viÃªn thuá»™c team nÃ o.

CÃ¡ch thiáº¿t láº­p:

1. Field type: Reference
2. Entity referenced: chá»n entity **team**

ğŸ“¹ Demo:

![Demo reference](assets/demoReference.gif)

---

## **Array Reference**

DÃ¹ng Ä‘á»ƒ chá»©a má»™t táº­p key, trá» Ä‘áº¿n nhiá»u entity khÃ¡c.

VÃ­ dá»¥: táº¡o thuá»™c tÃ­nh **projects** Ä‘á»ƒ biáº¿t thÃ nh viÃªn tham gia cÃ¡c dá»± Ã¡n nÃ o.

CÃ¡ch thiáº¿t láº­p:

1. Field type: Array Reference
2. Entity referenced: team (hoáº·c entity phÃ¹ há»£p)

ğŸ“¹ Demo:

![Demo array reference](assets/demoArrayReference.gif)

---

## **Embedded Document**

DÃ¹ng Ä‘á»ƒ lÆ°u object.
VÃ­ dá»¥: thuá»™c tÃ­nh **address** gá»“m street vÃ  city.

CÃ¡ch thiáº¿t láº­p:

1. Field type: Embedded document
2. Entity referenced: Address

ğŸ“¹ Demo:

![Demo embedded document](assets/demoEmbeddedDocument.gif)

---

## **Array Embedded Documents**

DÃ¹ng Ä‘á»ƒ lÆ°u danh sÃ¡ch object.

VÃ­ dá»¥: thuá»™c tÃ­nh **workHistory** Ä‘á»ƒ lÆ°u quÃ¡ trÃ¬nh lÃ m viá»‡c.

CÃ¡ch thiáº¿t láº­p:

1. Field type: Array Embedded document
2. Entity referenced: workHistory

ğŸ“¹ Demo (updating):

---

# **Business Rules â€“ Custom Validation & Computation**

Há»‡ thá»‘ng cho phÃ©p khai bÃ¡o hÃ m kiá»ƒm tra vÃ  tÃ­nh toÃ¡n tá»± Ä‘á»™ng khi dá»¯ liá»‡u thay Ä‘á»•i.

### **VÃ­ dá»¥**

- Kiá»ƒm tra email há»£p lá»‡
- Táº¡o mÃ£ teamMember dá»±a trÃªn name + birthDay

---

## **Custom validation**

Custom validation lÃ  hÃ m cháº¡y má»—i khi dá»¯ liá»‡u thay Ä‘á»•i.
HÃ m pháº£i tráº£ vá»:

- **true** â€“ há»£p lá»‡
- **false** â€“ khÃ´ng há»£p lá»‡

VÃ­ dá»¥: kiá»ƒm tra email cÃ³ chá»©a kÃ½ tá»± **@**.

CÃ¡ch dÃ¹ng:

1. Chá»n **Use Validation**
2. Viáº¿t hÃ m validation
3. Nháº­p thÃ´ng bÃ¡o lá»—i táº¡i **Validation Message On Failure**

ğŸ“¹ Demo:

![Demo Custom validation](assets/demoCustomValidation.gif)

---

## **Custom Computation**

Computation cháº¡y khi giÃ¡ trá»‹ thuá»™c tÃ­nh phá»¥ thuá»™c (dependencies) thay Ä‘á»•i.

VÃ­ dá»¥: táº¡o thuá»™c tÃ­nh **code** = name + birthDay.

CÃ¡ch dÃ¹ng:

1. Field type: computation
2. Viáº¿t hÃ m computation
3. Chá»n dependencies: name vÃ  birthDay

ğŸ“¹ Demo:

![Demo Custom computation](assets/demoComputation.gif)

---

DÆ°á»›i Ä‘Ã¢y lÃ  báº£n **Ä‘Ã£ bá»• sung, lÃ m rÃµ vÃ  sá»­a láº¡i cho Ä‘Ãºng cáº¥u trÃºc**, Ä‘á»“ng thá»i thÃªm vÃ­ dá»¥ Ä‘áº§y Ä‘á»§:

---

# ğŸ“¦ CÃ¡ch chÃºng tÃ´i lÆ°u trá»¯ **entity**

Má»—i entity khi lÆ°u trá»¯ sáº½ Ä‘Æ°á»£c bao bá»c trong má»™t cáº¥u trÃºc chuáº©n, gá»“m:

```json
{
  "name": "TÃªn entity, vÃ­ dá»¥: teamMember",
  "version": "PhiÃªn báº£n schema cá»§a entity, máº·c Ä‘á»‹nh lÃ  0",
  "value": "Object chá»©a toÃ n bá»™ dá»¯ liá»‡u (cÃ¡c thuá»™c tÃ­nh) cá»§a entity"
}
```

### ğŸ” Giáº£i thÃ­ch nhanh

- **name**: TÃªn loáº¡i entity, khÃ´ng pháº£i tÃªn ngÆ°á»i hay dá»¯ liá»‡u.
  VÃ­ dá»¥: `"teamMember"`, `"customer"`, `"project"`.
- **version**: DÃ¹ng Ä‘á»ƒ quáº£n lÃ½ thay Ä‘á»•i schema theo thá»i gian.
  Khi schema cáº­p nháº­t, version tÄƒng lÃªn.
- **value**: LÃ  object chá»©a **dá»¯ liá»‡u thá»±c táº¿** cá»§a entity.

---

# ğŸ“˜ VÃ­ dá»¥

Giáº£ sá»­ entity **teamMember** cÃ³ dá»¯ liá»‡u:

```txt
name: "Nguyen Van A"
email: "nguyenVanA@gmail.com"
role: "leader"
```

ThÃ¬ khi lÆ°u trá»¯, há»‡ thá»‘ng sáº½ ghi:

```json
{
  "name": "teamMember",
  "version": 0,
  "value": {
    "name": "Nguyen Van A",
    "email": "nguyenVanA@gmail.com",
    "role": "leader"
  }
}
```

---

# **Workflow â€“ Tá»± Ä‘á»™ng hoÃ¡ cÃ´ng viá»‡c**

Pháº§n má»m quáº£n lÃ½ hiá»‡n Ä‘áº¡i khÃ´ng chá»‰ CRUD.
Quan trá»ng hÆ¡n lÃ  **tá»± Ä‘á»™ng hoÃ¡ váº­n hÃ nh**.

### CÃ¡c nhu cáº§u phá»• biáº¿n:

- Tá»± Ä‘á»™ng kiá»ƒm tra dá»¯ liá»‡u
- Gá»­i thÃ´ng bÃ¡o/email
- Táº¡o cÃ´ng viá»‡c káº¿ tiáº¿p
- Äá»“ng bá»™ dá»¯ liá»‡u giá»¯a phÃ²ng ban
- Tá»± Ä‘á»™ng hoÃ¡ luá»“ng phÃª duyá»‡t

---

## **VÃ­ dá»¥ thá»±c táº¿ vá» quy trÃ¬nh**

### **Doanh nghiá»‡p bÃ¡n hÃ ng**

- Kiá»ƒm tra tá»“n kho
- Äá»§ hÃ ng â†’ táº¡o hoÃ¡ Ä‘Æ¡n
- Thiáº¿u hÃ ng â†’ táº¡o phiáº¿u nháº­p
- HoÃ n táº¥t â†’ gá»­i email cáº£m Æ¡n

### **Doanh nghiá»‡p dá»‹ch vá»¥**

- KhÃ¡ch Ä‘áº·t lá»‹ch
- Kiá»ƒm tra lá»‹ch ráº£nh
- Tá»± Ä‘á»™ng gÃ¡n nhÃ¢n sá»±
- Nháº¯c lá»‹ch 24h trÆ°á»›c buá»•i háº¹n

### **CÃ´ng ty Ä‘Ã o táº¡o**

- Há»c viÃªn Ä‘Äƒng kÃ½
- Gá»­i há»£p Ä‘á»“ng
- Thanh toÃ¡n â†’ gá»­i tÃ i liá»‡u
- TrÆ°á»›c khai giáº£ng â†’ nháº¯c lá»‹ch
- Káº¿t thÃºc â†’ gá»­i kháº£o sÃ¡t

---

# **Bá»™ node N8N dÃ nh cho GPortal**

ChÃºng tÃ´i cung cáº¥p Ä‘áº§y Ä‘á»§ node N8N Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i dá»¯ liá»‡u GPortal.

## **Bá»™ API Node**

Há»— trá»£ Ä‘áº§y Ä‘á»§ CRUD, gá»i API Ä‘á»ƒ thao tÃ¡c entity.

![N8N API Nodes](assets/n8nAPINodes.jpg)

### Create an new entity Node:

ÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº¡o Ä‘á»‘i tÆ°á»£ng quáº£ng lÃ½ (entity), cÃ³ thá»ƒ sá»­ dá»¥ng nhÆ° tool Agent.

ğŸ“„ **Báº£ng dá»¯ liá»‡u mÃ´ táº£ Ä‘á»‘i sá»‘**

| Äá»‘i sá»‘         | Kiá»ƒu dá»¯ liá»‡u | MÃ´ táº£                                                                                                           | Há»— trá»£ expression | VÃ­ dá»¥                                                                                             |                      |
| -------------- | ------------ | --------------------------------------------------------------------------------------------------------------- | ----------------- | ------------------------------------------------------------------------------------------------- | -------------------- |
| **entityName** | `string`     | TÃªn Ä‘á»‘i tÆ°á»£ng (entity) dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh loáº¡i dá»¯ liá»‡u cáº§n truy váº¥n. Cho phÃ©p sá»­ dá»¥ng biá»ƒu thá»©c Ä‘á»ƒ lá»c linh hoáº¡t. | âœ”ï¸                | `"Product*"`, `"FAQ                                                                               | Guide"`, `"/^User/"` |
| **entityData** | `object`     | Dá»¯ liá»‡u Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c táº¡o hoáº·c dá»¯ liá»‡u dÃ¹ng Ä‘á»ƒ lá»c. Cháº¥p nháº­n cÃ¡c biá»ƒu thá»©c Ä‘á»ƒ so khá»›p theo thuá»™c tÃ­nh.        | âœ”ï¸                | `{ "status": { "$eq": "active" } }`, `{ "category": "support" }`, `{ "price": { "$gte": 1000 } }` |                      |

---

ğŸ“˜ **Request payload tÆ°Æ¡ng á»©ng**

```json
{
  "entityName": "Support*",
  "entityData": {
    "category": { "$eq": "guide" },
    "status": { "$in": ["active", "published"] }
  }
}
```

demo:
![N8N Create Node](assets/demoCreateNode.gif)

### Update an entity

ÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»‰nh sá»­a Ä‘á»‘i tÆ°á»£ng quáº£ng lÃ½ (entity), cÃ³ thá»ƒ sá»­ dá»¥ng nhÆ° tool Agent.

DÆ°á»›i Ä‘Ã¢y lÃ  **báº£n mÃ´ táº£ ngáº¯n gá»n** + **vÃ­ dá»¥** Ä‘Ãºng nhÆ° báº¡n yÃªu cáº§u:

---

ğŸ“„ **Báº£ng mÃ´ táº£ Ä‘á»‘i sá»‘**

| Äá»‘i sá»‘         | Kiá»ƒu dá»¯ liá»‡u             | MÃ´ táº£                                                                                            | Há»— trá»£ expression |
| -------------- | ------------------------ | ------------------------------------------------------------------------------------------------ | ----------------- |
| **entityId**   | string / number / object | ID cá»§a Ä‘á»‘i tÆ°á»£ng cáº§n cáº­p nháº­t. CÃ³ thá»ƒ dÃ¹ng expression Ä‘á»ƒ chá»n nhiá»u ID hoáº·c chá»n theo Ä‘iá»u kiá»‡n. | âœ”ï¸                |
| **entityData** | object                   | Dá»¯ liá»‡u cáº§n update vÃ o Ä‘á»‘i tÆ°á»£ng.                                                                | âŒ                |

---

ğŸ“˜ **Request payload tÆ°Æ¡ng á»©ng**

```json
{
  "entityId": { "$in": ["101", "102", "103"] },
  "entityData": {
    "status": "active",
    "updatedAt": "2025-01-10T10:00:00Z"
  }
}
```

demo
![N8N Update Node](assets/demoUpdateNode.gif)

### Delete an entity

ÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xoÃ¡ Ä‘á»‘i tÆ°á»£ng quáº£ng lÃ½ (entity), cÃ³ thá»ƒ sá»­ dá»¥ng nhÆ° tool Agent.

DÆ°á»›i Ä‘Ã¢y lÃ  **báº£n mÃ´ táº£ ngáº¯n gá»n** + **vÃ­ dá»¥** cho Ä‘á»‘i sá»‘ xoÃ¡:

---

ğŸ“„ **Báº£ng mÃ´ táº£ Ä‘á»‘i sá»‘**

| Äá»‘i sá»‘        | Kiá»ƒu dá»¯ liá»‡u             | MÃ´ táº£                                                                                     | Há»— trá»£ expression |
| ------------- | ------------------------ | ----------------------------------------------------------------------------------------- | ----------------- |
| **Entity Id** | string / number / object | ID cá»§a Ä‘á»‘i tÆ°á»£ng cáº§n xoÃ¡. CÃ³ thá»ƒ dÃ¹ng expression Ä‘á»ƒ xoÃ¡ nhiá»u ID hoáº·c xoÃ¡ theo Ä‘iá»u kiá»‡n. | âœ”ï¸                |

---

ğŸ“˜ **Request payload tÆ°Æ¡ng á»©ng**

```json
{
  "entityId": { "$in": ["A01", "A02", "A03"] }
}
```

demo
![N8N Delete Node](assets/demoDeleteNode.gif)

### Get many entities

ÄÆ°á»£c sá»­ dá»¥ng tÃ¬m kiáº¿m thÃ´ng tin nhiá»u Ä‘á»‘i tÆ°á»£ng quáº£n lÃ½, cÃ³ thá»ƒ sá»­ dá»¥ng nhÆ° API tool

DÆ°á»›i Ä‘Ã¢y lÃ  **báº£n mÃ´ táº£ ngáº¯n gá»n** + **vÃ­ dá»¥**, theo Ä‘Ãºng yÃªu cáº§u:

---

ğŸ“„ **Báº£ng mÃ´ táº£ Ä‘á»‘i sá»‘ Search API**

| Äá»‘i sá»‘               | Kiá»ƒu dá»¯ liá»‡u | MÃ´ táº£                                                                           | Há»— trá»£ expression |
| -------------------- | ------------ | ------------------------------------------------------------------------------- | ----------------- |
| **searchParameters** | object       | Äiá»u kiá»‡n tÃ¬m kiáº¿m theo dáº¡ng MongoDB query object (so sÃ¡nh, regex, in, rangeâ€¦). | âœ”ï¸                |
| **limit**            | number       | Sá»‘ lÆ°á»£ng dá»¯ liá»‡u cáº§n tráº£ vá».                                                    | âŒ                |
| **entityName**       | string       | TÃªn Ä‘á»‘i tÆ°á»£ng (entity) cáº§n tÃ¬m kiáº¿m.                                            | âœ”ï¸                |

---

ğŸ“˜ **Request Payload tÆ°Æ¡ng á»©ng**

```json
{
  "searchParameters": {
    "status": { "$eq": "active" },
    "category": { "$in": ["guide", "support"] }
  },
  "limit": 10,
  "entityName": "SupportArticle"
}
```

demo
![N8N Get Many Entities Node](assets/demoGetManyEntities.gif)

---

**Bá»™ Ä‘iá»u khiá»ƒn UI Node**

Nháº­n tÃ­n hiá»‡u Ä‘iá»u khiá»ƒn UI tá»« workflow.

![Control UI Nodes](assets/controlUINodes.png)

Demo:

[![Control UI Nodes Video](https://img.youtube.com/vi/dh0_yUKtaxc/maxresdefault.jpg)](https://www.youtube.com/watch?v=dh0_yUKtaxc&list=PLnIW6dBaVHcANhNr3dCQkghdEIBSi8aNK&index=5)

---

**Query Embedding Vector Node**

Truy váº¥n vector embedding phá»¥c vá»¥ AI chatbot vÃ  semantic search.

Má»—i Ä‘á»‘i tÆ°á»£ng, khi Ä‘Æ°á»£c táº¡o vá»›i lá»±a chá»n sá»­ dá»¥ng vector embedding sáº½ Ä‘Æ°á»£c lÆ°u cÃ¹ng vá»›i vector embedding vÃ  há»™ trá»£ viá»‡c senmatic search (tÃ¬m kiáº¿m theo ngá»¯ nghÄ©a).

| Tham sá»‘           | Kiá»ƒu dá»¯ liá»‡u | Báº¯t buá»™c | MÃ´ táº£ chá»©c nÄƒng                                                                                                                      |
| ----------------- | ------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| **queryString**   | `string`     | âœ”ï¸       | Chuá»—i vÄƒn báº£n cáº§n chuyá»ƒn thÃ nh vector embedding Ä‘á»ƒ thá»±c hiá»‡n tÃ¬m kiáº¿m theo ngá»¯ nghÄ©a. ÄÃ¢y lÃ  cÃ¢u há»i / ná»™i dung báº¡n muá»‘n tÃ¬m.        |
| **limit**         | `number`     | âœ”ï¸       | Sá»‘ lÆ°á»£ng káº¿t quáº£ tá»‘i Ä‘a cáº§n tráº£ vá» sau khi xáº¿p háº¡ng Ä‘á»™ tÆ°Æ¡ng Ä‘á»“ng vector.                                                            |
| **numCandidates** | `number`     | âŒ       | Sá»‘ lÆ°á»£ng á»©ng viÃªn ban Ä‘áº§u Ä‘á»ƒ há»‡ thá»‘ng má»Ÿ rá»™ng pháº¡m vi tÃ¬m kiáº¿m (dÃ¹ng cho ANN search). GiÃºp tÄƒng Ä‘á»™ chÃ­nh xÃ¡c khi lá»c ra top _limit_. |
| **entityName**    | `string`     | âŒ       | TÃªn loáº¡i Ä‘á»‘i tÆ°á»£ng (entity) Ä‘á»ƒ lá»c trong kho dá»¯ liá»‡u. GiÃºp chá»‰ tÃ¬m kiáº¿m trong Ä‘Ãºng báº£ng hoáº·c loáº¡i dá»¯ liá»‡u mong muá»‘n.                 |

![Query Vector Embedding](assets/queryVectorEmbedding.png)

Demo:

![Demo Query Vector Embedding](assets/demoVectorDatabase.gif)
